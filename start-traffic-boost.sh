#!/bin/bash

# üöÄ –°–ö–†–ò–ü–¢ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –ó–ê–ü–£–°–ö–ê –°–ò–°–¢–ï–ú–´ –£–í–ï–õ–ò–ß–ï–ù–ò–Ø –¢–†–ê–§–ò–ö–ê
# –°–∞–π—Ç: ecopackpro.ru
# –¶–µ–ª—å: –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –º–∞—Å—Å—ã –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

echo "üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ –£–í–ï–õ–ò–ß–ï–ù–ò–Ø –¢–†–ê–§–ò–ö–ê"
echo "=================================="
echo "–°–∞–π—Ç: ecopackpro.ru"
echo "–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: $(date)"
echo "=================================="

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∞–π—Ç–∞
cd /var/www/fastuser/data/www/ecopackpro.ru

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Python3
if ! command -v python3 &> /dev/null; then
    echo "‚ùå Python3 –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º..."
    apt-get update && apt-get install -y python3 python3-pip
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π Python
echo "üì¶ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python..."
python3 -c "import mysql.connector, requests" 2>/dev/null
if [ $? -ne 0 ]; then
    echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–æ–¥—É–ª–∏..."
    pip3 install mysql-connector-python requests
fi

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞..."
python3 traffic-boost-automation.py

# –ñ–¥–µ–º 10 —Å–µ–∫—É–Ω–¥
sleep 10

# –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
echo "üìä –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞..."
python3 traffic-monitor.py

# –°–æ–∑–¥–∞–µ–º cron-–∑–∞–¥–∞—á—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
echo "‚è∞ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫..."
(crontab -l 2>/dev/null; echo "0 9 * * * /var/www/fastuser/data/www/ecopackpro.ru/start-traffic-boost.sh >> /var/www/fastuser/data/www/ecopackpro.ru/cron.log 2>&1") | crontab -

echo "‚úÖ –°–ò–°–¢–ï–ú–ê –£–í–ï–õ–ò–ß–ï–ù–ò–Ø –¢–†–ê–§–ò–ö–ê –ù–ê–°–¢–†–û–ï–ù–ê!"
echo "=================================="
echo "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:"
echo "- SEO-—Å—Ç–∞—Ç—å–∏: –≥–æ—Ç–æ–≤—ã –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
echo "- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏: —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
echo "- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã: —É–ª—É—á—à–∞—é—Ç—Å—è"
echo "- –ü–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã: —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è"
echo "=================================="
echo "‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00"
echo "üìÅ –õ–æ–≥–∏: /var/www/fastuser/data/www/ecopackpro.ru/"
echo "=================================="



