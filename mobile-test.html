<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .container { max-width: 400px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        .cart-counter { background: #007cba; color: white; padding: 15px; margin: 15px 0; text-align: center; border-radius: 5px; }
        .quantity { margin: 10px 0; display: flex; align-items: center; }
        .quantity label { width: 100px; }
        .quantity input { width: 60px; padding: 8px; margin-left: 10px; }
        .log { background: #f8f8f8; padding: 10px; margin: 15px 0; height: 150px; overflow-y: scroll; border: 1px solid #ddd; }
        .btn { background: #007cba; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn:hover { background: #005a8b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–µ—Å—Ç —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã</h1>
        
        <div class="cart-counter">
            <span class="w-cart-quantity">0</span> —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
        </div>
        
        <div class="quantity">
            <label>–¢–æ–≤–∞—Ä 1:</label>
            <input type="number" class="qty" value="0" min="0">
        </div>
        
        <div class="quantity">
            <label>–¢–æ–≤–∞—Ä 2:</label>
            <input type="number" class="qty" value="0" min="0">
        </div>
        
        <div class="quantity">
            <label>–¢–æ–≤–∞—Ä 3:</label>
            <input type="number" class="qty" value="0" min="0">
        </div>
        
        <button class="btn" onclick="testCounter()">–¢–µ—Å—Ç —Å—á–µ—Ç—á–∏–∫–∞</button>
        <button class="btn" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
        
        <h3>–õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã:</h3>
        <div id="log" class="log"></div>
        
        <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ:</h3>
        <div id="info"></div>
    </div>

    <script>
        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º console.log
        const originalLog = console.log;
        const logDiv = document.getElementById('log');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const logEntry = document.createElement('div');
            logEntry.textContent = new Date().toLocaleTimeString() + ': ' + args.join(' ');
            logDiv.appendChild(logEntry);
            logDiv.scrollTop = logDiv.scrollHeight;
        };
        
        function clearLog() {
            logDiv.innerHTML = '';
        }
        
        function testCounter() {
            console.log('=== –†–£–ß–ù–û–ô –¢–ï–°–¢ –°–ß–ï–¢–ß–ò–ö–ê ===');
            updateCartCounter();
        }
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ
        document.getElementById('info').innerHTML = `
            <p><strong>User Agent:</strong> ${navigator.userAgent}</p>
            <p><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</strong> ${navigator.platform}</p>
            <p><strong>–†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞:</strong> ${screen.width}x${screen.height}</p>
            <p><strong>–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞:</strong> ${window.innerWidth}x${window.innerHeight}</p>
            <p><strong>–í—Ä–µ–º—è:</strong> ${new Date().toLocaleString()}</p>
        `;
        
        // –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
        function updateCartCounter() {
            let total = 0;
            document.querySelectorAll('.quantity input.qty').forEach(function(input) {
                const val = parseInt(input.value) || 0;
                total += val;
                console.log('–¢–æ–≤–∞—Ä: ' + val + ' (–æ–±—â–∏–π: ' + total + ')');
            });
            
            document.querySelector('.w-cart-quantity').textContent = total > 0 ? total : '0';
            console.log('–°—á–µ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω: ' + total);
            return total;
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        setInterval(function() {
            console.log('–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞');
            updateCartCounter();
        }, 2000);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
        document.querySelectorAll('.quantity input.qty').forEach(function(input) {
            input.addEventListener('change', function() {
                console.log('–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞: ' + this.value);
                updateCartCounter();
            });
        });
        
        console.log('=== –¢–ï–°–¢ –ù–ê–ß–ê–¢ ===');
        console.log('User Agent: ' + navigator.userAgent);
        console.log('–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ' + /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));
        console.log('WebView: ' + /wv|WebView/i.test(navigator.userAgent));
        updateCartCounter();
    </script>
</body>
</html>
